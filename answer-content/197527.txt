<div class="s-prose s-prose__disable-spoiler-hover js-post-body" itemprop="text">
<p>Probably very little beautification. I would be curious to see someone beautify it and prove me wrong. Initially I thought you could use Kotlin streams on the frame ByteArray. This way you could have done something equivalent to <code>frame.filterIndexed(..).map(it-&gt;CanFrame(..))</code> etc. However then I noticed you were doing random access on the ByteArray: ex: <code>ifmIndex + length + 4</code> , <code>frame.copyOfRange(ifmIndex + 3, ifmIndex + 2 + length)</code> which would negate the purpose of streams which go one by one. </p>
    </div>