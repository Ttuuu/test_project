<div class="s-prose s-prose__disable-spoiler-hover js-post-body" itemprop="text">
<p>If you look at the similarity of your various perform_xxx functions, it suggests there is duplication that could be removed.  One way to do this would be to extract Operator classes, one for each operation, where the common behavior of extracting left and right values from the stream was expressed in the superclass and the individual operations of multiplication, addition, etc. was left to the subclasses.</p>
    </div>