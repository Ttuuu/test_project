<div class="s-prose s-prose__disable-spoiler-hover js-post-body" itemprop="text">
<p>Not only does your first version, as mentioned in <strong>indi</strong>'s answer, cause undefined behavior on unaligned access, but the behavior is in fact undefined in any case, since you are violating aliasing rules. Unless you make sure that your compiler turns the other cheek (gcc, for example, does so with <code>-fno-strict-aliasing</code>), don't use that variant, ever. </p>

<p>Even if your compiler does not implement any optimizations based on that case of undefined behavior, your program could still crash: Assuming that unaligned accesses work on x86 is a common misbelief, and has been the cause of quite a few bugs since compilers have added SIMD code generation to their backends. That being said, it's not improbable that your compiler will recognize the undefined behavior and optimize based on it, either. I wouldn't be surprised if you ended up with a function that returned 0 in all cases, or that returns some uninitialized value, or similar.</p>
    </div>