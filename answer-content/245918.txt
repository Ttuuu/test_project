<div class="s-prose s-prose__disable-spoiler-hover js-post-body" itemprop="text">
<p>Since the code is only reading the contents of the file to see if there are contents in the file, an optimization for both speed and memory usage would be to use the <a href="https://www.php.net/manual/en/function.filesize.php" rel="nofollow noreferrer"><code>filesize()</code> function</a> and not read the contents. Reading the contents of the file consumes both time and memory.</p>
<p>Rather than writing the contents read in, copy or move the original file to the new location using either <code>rename()</code> or <a href="https://www.php.net/manual/en/function.move-uploaded-file.php" rel="nofollow noreferrer"><code>move_uploaded_file()</code></a>.</p>
    </div>