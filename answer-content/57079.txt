<div class="s-prose s-prose__disable-spoiler-hover js-post-body" itemprop="text">
<p>Guava's <a href="https://google.github.io/guava/releases/21.0/api/docs/com/google/common/collect/Multiset.html" rel="nofollow noreferrer"><code>Multiset</code></a> and its <a href="https://google.github.io/guava/releases/21.0/api/docs/com/google/common/util/concurrent/AtomicLongMap.html" rel="nofollow noreferrer"><code>AtomicLongMap</code></a> are designed for this kind of counting.</p>

<p>See also:</p>

<ul>
<li><a href="https://github.com/google/guava/wiki/NewCollectionTypesExplained" rel="nofollow noreferrer">Guava's new collection types, explained</a>.</li>
<li><em>Effective Java, 2nd edition</em>, <em>Item 47: Know and use the libraries</em> (The author mentions only the JDK's built-in libraries but I think the reasoning could be true for other libraries too.)</li>
</ul>
    </div>