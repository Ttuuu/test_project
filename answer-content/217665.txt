<div class="s-prose s-prose__disable-spoiler-hover js-post-body" itemprop="text">
<p>It makes little difference how the row is constructed, the problem is intentionally designed such that constructing the row at all will lead to TLE. Consider that for N=30, the row would have 2<sup>29</sup> elements, that's no good. This is usually the case with competitive programming problems, they are made to make the straightforward solutions fail, that is what makes it competitive.</p>

<p>There are a few ways you could go about solving it, for example, you could recognize that the sequence produced is the <a href="https://en.wikipedia.org/wiki/Thue%E2%80%93Morse_sequence" rel="nofollow noreferrer">Thue-Morse sequence</a>, which has a simple formula to calculate an element at a given index without generating the whole sequence up to that index. The result does not depend on N.</p>
    </div>