<div class="s-prose s-prose__disable-spoiler-hover js-post-body" itemprop="text">
<p><code>malloc</code>ed memory has to be <code>free</code>d at some point.  <a href="http://www.man7.org/linux/man-pages/man3/free.3.html" rel="nofollow noreferrer"><code>free()</code></a> needs a pointer to non-<code>const</code> data as argument.  Therefore, <code>format_string()</code> has to return a pointer to non-<code>const</code> data, so that it can be passed to <code>free()</code> later.</p>
    </div>