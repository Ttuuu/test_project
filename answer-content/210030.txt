<div class="s-prose s-prose__disable-spoiler-hover js-post-body" itemprop="text">
<p>This is not a review, but an extended comment.</p>

<p>The code cannot be meaningfully optimized. Few notes though.</p>

<ul>
<li><p>First, thou shalt not bruteforce. It is almost inevitably wrong.</p></li>
<li><p>Next, you must realize that it is a number-theoretical problem. Even the names of the test cases suggest so. Among other things it means that testing the sum against <code>1e-10</code> is not right.</p></li>
<li><p>Finally, do watch the video referenced in the problem. It is a big spoiler, and it doesn't provide a proof of the claim. The proof is far from trivial; if you are interested in the proof, follow up with <a href="https://ac.els-cdn.com/S0021869399980894/1-s2.0-S0021869399980894-main.pdf?_tid=05e98a71-5bfe-4ab5-9b66-24ee45b8ca47&amp;acdnat=1545293045_b25f9696d79d219a4ff7eef490cdf2c1" rel="noreferrer">this</a> is a fascinating reading (trigger warning: heavy-duty math).</p></li>
</ul>
    </div>