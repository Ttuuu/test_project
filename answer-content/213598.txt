<div class="s-prose s-prose__disable-spoiler-hover js-post-body" itemprop="text">
<p><em>'considered a good solution'</em> is subjective, and relative to the scope of your project, especially given there were no performance/compatibility concerns listed. IMO, you have a good solution here. Using <code>:before</code> or <code>:after</code> pseudo classes gives you inherent text selection boundaries which is great! (no one wants to copy line numbers when selecting code snippet text)</p>

<p>However, if this was purely an example of accomplishing familiarity with counters is beyond me, so consider that you're example is intended for code snippets it might be best to keep it in a tag that <strong><em>best</em></strong> represents the content. For example <code>&lt;pre&gt;&lt;code&gt;</code>.</p>

<p>This identifies sound page structure, which only good things come from that like SEO compliance and browser support. The good ole vendor pre-fix can be annoying to track, but they are there for a reason. Let the user experience content in a way that their preferred browser implements. (Not that you need a prefix here, just demonstrating why keeping it relative to the content can benefit users, as well as developers/site owners). And lastly, of course the accessibility argument. </p>
    </div>