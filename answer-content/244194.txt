<div class="s-prose s-prose__disable-spoiler-hover js-post-body" itemprop="text">
<h2>IP Detection.</h2>
<p>You are confusing an IP address with an <strong>HTTP header</strong>, the latter being utterly unreliable. It is ridiculously simple to fake an HTTP header. There is an <a href="https://blog.ircmaxell.com/2012/11/anatomy-of-attack-how-i-hacked.html" rel="nofollow noreferrer">old cautionary tale by Anthony Ferrara</a> about how he unintentionally hacked Stack Overflow by manipulating headers. You may want to read about it. Not to mention that even if you catch one of these headers, it is quite possible that it would belong to a private network, whicih would make it essentially useless.</p>
<p>In short, just use <code>REMOTE_ADDR</code> if you need an IP address and you have no good reason to use something else. For example, some web-servers are using a local proxy, and in this case <code>REMOTE_ADDR</code> always contains the proxy's IP, not the outside IP, while the latter being stored in some of the headers. In this particular case you can write a similar translator, but of course not a code that picks a random HTTP header out of the pile, but a certain header that is deliberately set by the proxy.</p>
<h2>OOP</h2>
<p>Sorry, there is no OOP. It's just a collection of functions, which are, for some reason, combined into a single class. You'd save yourself a few keystrokes if just remove the class and keep these methods as functions.</p>
<p>If you want to learn OOP, maybe you could create a class to parse the user agent. It could accept the user agent string in the constructor and then give you various details through methods.</p>
    </div>