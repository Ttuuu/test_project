<div class="s-prose s-prose__disable-spoiler-hover js-post-body" itemprop="text">
<p>The way your loops are organized results in an unpleasant phenomenon. Namely, you process the same subsequence many times. Let's say, a long good range starts at the index <code>k</code> and has a length <code>n</code>. The inner loop finds it. Then the next iteration of the outer loop starts processing it again, this time from index <code>k + 1</code>. Then from index <code>k+2</code>, etc. It will take <span class="math-container">\$O(n^2)\$</span> of unnecessary computations. In fact, each good range contributes a term quadratic to its length to the total complexity.</p>
<p>The fix is, once the inner loop terminated, adjust <code>i</code> to continue from the number which broke the good range.</p>
    </div>