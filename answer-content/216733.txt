<div class="s-prose s-prose__disable-spoiler-hover js-post-body" itemprop="text">
<p>This is pretty easily solvable in <code>O(n^2)</code>. Notice that any longest path from <code>a</code> to <code>c</code> with length <code>&gt;1</code> is a combination of a longest <code>ab</code> path and a longest <code>bc</code> path for some <code>b</code>. What you want to do here is to find the longest path to all squares using dynamic programming. </p>
    </div>