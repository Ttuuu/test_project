<div class="s-prose s-prose__disable-spoiler-hover js-post-body" itemprop="text">
<p>An alternative to using (ring)buffers, mutexes and condition variables is to use a datagram UNIX <a href="https://pubs.opengroup.org/onlinepubs/009695399/functions/socketpair.html" rel="nofollow noreferrer">socket pair</a>. Writes to a datagram socket are atomic, so multiple threads can safely write to it without the messages getting mixed up. Also, you can choose whether or not to make the socket non-blocking. On Windows you might have to use something else, like a UDP socket.</p>
<p>The drawbacks are that it is not as portable (sockets are not part of the C++ standard library), and that each write to a socket will be a system call, so it has a higher overhead than just adding something to a ringbuffer. On the other hand, if you write so often that you have lock contention then the difference is likely minimal.</p>
    </div>