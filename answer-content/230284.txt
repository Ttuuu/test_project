<div class="s-prose s-prose__disable-spoiler-hover js-post-body" itemprop="text">
<p>Any solution which does something <span class="math-container">\$k\$</span> times will be hopelessly slow. We have to make use of the structure of the problem here. Suppose <span class="math-container">\$i&lt;\lfloor n/2\rfloor\$</span> and write <span class="math-container">\$ a = A_i \$</span> and <span class="math-container">\$b= A_{n-i}\$</span>. Then each time through the list we execute <span class="math-container">\$ a \leftarrow a\wedge b \$</span> and then <span class="math-container">\$b\leftarrow a\wedge b\$</span>. Lets record the values of <span class="math-container">\$a \$</span> and <span class="math-container">\$b\$</span> on each iteration of the loop, starting with values <span class="math-container">\$x\$</span> and <span class="math-container">\$ y\$</span> for <span class="math-container">\$a\$</span> and <span class="math-container">\$ b\$</span>, respectively:</p>

<ol>
<li>First <span class="math-container">\$a \leftarrow x\wedge y\$</span>, then <span class="math-container">\$b \leftarrow (x\wedge y)\wedge y = x\$</span></li>
<li>First <span class="math-container">\$a \leftarrow (x\wedge y) \wedge x = y\$</span>, then <span class="math-container">\$b\leftarrow y\wedge x\$</span></li>
<li>First <span class="math-container">\$a \leftarrow y \wedge (y\wedge x) = x\$</span>, then <span class="math-container">\$b\leftarrow x \wedge (y\wedge x) = y\$</span></li>
</ol>

<p>Notice that the effect of three such iterations is to do nothing at all. Therefore we can subtract any multiple of <span class="math-container">\$ 3n\$</span> from <span class="math-container">\$k\$</span> and not change the result. If you reduce <span class="math-container">\$k\$</span> mod <span class="math-container">\$3 n\$</span> before executing your original code, you should be good. (Actually we have to be a little careful to handle the case of odd <span class="math-container">\$n\$</span>, because the middle element has to be handled specially. I leave this as an exercise).</p>
    </div>