<div class="s-prose s-prose__disable-spoiler-hover js-post-body" itemprop="text">
<p>I would suggest that <code>AddItem()</code>, <code>RemoveItem()</code>, <code>RemoveAllItems()</code> and <code>ChangeItem()</code> be updated to be thread-safe. Adding a <code>lock</code> in there should take care of that. This would have the added benefit in that your <code>indexMap</code> and <code>values</code> would remain in synch.</p>
    </div>