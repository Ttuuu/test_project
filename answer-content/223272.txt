<div class="s-prose s-prose__disable-spoiler-hover js-post-body" itemprop="text">
<p>I'm absolutely sure there is discussion about this problem already, but I just can't remember the correct search keywords. Anyway, the main problem is that it's <a href="https://en.wikipedia.org/wiki/Open%E2%80%93closed_principle" rel="nofollow noreferrer">closed for extension</a>. The list of supported MIME types are hard coded to the enumeration and can not be added by the library user. The difficulty of unit testing is a result from this closedness.</p>
    </div>