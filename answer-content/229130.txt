<div class="s-prose s-prose__disable-spoiler-hover js-post-body" itemprop="text">
<p>It took me a few reads to understand what's going on here, but I think I do, now. You're best to separate this into at least two parts: one part that generates the percentage and alignment result, and one part that applies the <code>max</code> function to get the best percentage-result tuple. This can be done easily with a function that <code>yields</code> whenever it gets such a tuple.</p>

<p>After some investigation in chat, we've arrived at a prior-to hidden business requirement: <code>query_list_fastafiles</code> will only ever be a sequence of length 1. As such, you definitely shouldn't have a loop. Instead, you should probably <code>assert len(query_list_fastafiles) == 1</code> and then continue on with the inner loop. Having an outer loop will simply discard all results for the inner loop except the last one.</p>
    </div>