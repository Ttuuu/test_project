<div class="s-prose s-prose__disable-spoiler-hover js-post-body" itemprop="text">
<p>I didn't try to run it but it seems to me that this algorithm won't handle "Double substractive" forms. 
Forms like XIIX instead of XVIII. 
How described on wiki â€“ it's not typical roman number usage, but it was used in the past so the program should probably be prepared for it.</p>
    </div>